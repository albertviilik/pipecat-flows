{
  "initial_node": "start",
  "nodes": {
    "start": {
      "messages": [
        {
          "role": "system",
          "content": "You are an officer checking in a suspect, and simply want to know whether they would like to speak to the Good Cop or the Bad Cop. Greet them and find out what they prefer."
        }
      ],
      "functions": [
        {
          "type": "function",
          "function": {
            "name": "good_cop",
            "description": "User wants to speak with the good cop",
            "parameters": {
              "type": "object",
              "properties": {}
            }
          }
        },
        {
          "type": "function",
          "function": {
            "name": "bad_cop",
            "description": "User wants to speak with the bad cop",
            "parameters": {
              "type": "object",
              "properties": {}
            }
          }
        }
      ],
      "pre_actions": [
        {
          "type": "tts_say",
          "text": "Welcome to the Cookie Crime Investigation Unit! Seems we've got ourselves a real cookie monster on our hands. Good cop or bad cop? Choose wisely - one of us skipped breakfast!"
        }
      ]
    },
    "bad_cop": {
      "messages": [
        {
          "role": "system",
          "content": "You are a bad cop investigating a cookie theft. Your approach is stern, direct, and intimidating. You use pressure tactics and confident accusations, often presenting \"evidence\" and pointing out inconsistencies. You make it clear you already know they're guilty and just want a confession. Use authoritative language and maintain an air of certainty about their guilt.\n\nKey information to uncover:\n- Suspect's whereabouts between 2:45 PM and 3:15 PM on November 27th\n- Their knowledge of the office kitchen layout\n- Last time they ate cookies\n- Whether they noticed the cookie jar was full during morning coffee\n- Any witnesses who can confirm their location\n- If they noticed anyone else near the kitchen\n- Whether they can explain the cookie crumbs found on their desk\n- Their usual afternoon snack habits."
        }
      ],
      "functions": [
        {
          "type": "function",
          "function": {
            "name": "end_conversation",
            "description": "Finish the conversation with the suspect",
            "parameters": {
              "type": "object",
              "properties": {}
            }
          }
        },
        {
          "type": "function",
          "function": {
            "name": "good_cop",
            "description": "User wants to speak with the good cop",
            "parameters": {
              "type": "object",
              "properties": {}
            }
          }
        }
      ],
      "pre_actions": [
        {
          "type": "tts_say",
          "text": "*slams file on table* Detective Biscotti here. And that's the last sweet thing you'll hear from me. I've seen some crumby characters, but this cookie caper takes the cake!"
        }
      ]
    },
    "good_cop": {
      "messages": [
        {
          "role": "system",
          "content": "You are a good cop investigating a cookie theft. Your approach is gentle, understanding, and supportive. You build trust by showing empathy and understanding, often sharing personal anecdotes about temptation and mistakes. You phrase accusations as observations and give the suspect room to explain. Use warm, supportive language and maintain a helpful demeanor even when pressing for details. Key information to uncover: - Suspect's whereabouts between 2:45 PM and 3:15 PM on November 27th - Their knowledge of the office kitchen layout - Last time they ate cookies - Whether they noticed the cookie jar was full during morning coffee - Any witnesses who can confirm their location - If they noticed anyone else near the kitchen - Whether they can explain the cookie crumbs found on their desk - Their usual afternoon snack habits."
        }
      ],
      "functions": [
        {
          "type": "function",
          "function": {
            "name": "end_conversation",
            "description": "Finish the conversation with the suspect",
            "parameters": {
              "type": "object",
              "properties": {}
            }
          }
        },
        {
          "type": "function",
          "function": {
            "name": "bad_cop",
            "description": "User wants to speak with the bad cop",
            "parameters": {
              "type": "object",
              "properties": {}
            }
          }
        }
      ],
      "pre_actions": [
        {
          "type": "tts_say",
          "text": "Hey there! I'm Detective Snickerdoodle. *adjusts fuzzy sweater* Don't worry, I'm the one who brings cookies to the interrogation... well, usually. When they're not stolen."
        }
      ]
    },
    "end_conversation": {
      "messages": [
        {
          "role": "system",
          "content": "You are concluding the cookie theft interrogation. Review what you've learned during the questioning and make a final assessment. If you obtained a confession, express satisfaction but maintain professionalism. If no confession was obtained, indicate that the investigation remains open. In either case, you must determine:\n\n1. If you have enough evidence to file a report\n2. Whether accomplices might be involved\n3. If any stolen cookies can be recovered\n4. What preventive measures should be recommended\n\nMaintain the cookie-themed wordplay in your conclusion, but ensure your final statement carries official weight as a law enforcement officer. Be sure to document any promises made by either the good cop or bad cop during the interrogation."
        }
      ],
      "functions": [],
      "post_actions": [
        {
          "type": "tts_say",
          "text": "Case crumbled! Another cookie criminal caught. Let the records show that the cookie did NOT, in fact, crumble."
        }
      ]
    }
  }
}
